@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model VDT2.ViewModels.ListarConferenciaAvariaViewModel


@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<script src="~/js/Conferencia/ConferenciaAvarias.js"  asp-append-version="true"></script>


<div class="container">
    <div class="container" id="EM_ERRO">
        @if (ViewData["MensagemErro"] != null)
            {
            <div class="alert alert-danger">
                <p>@ViewData["MensagemErro"]</p>
            </div>
            }
    </div>
    <div class="container" id="EM_SUCESSO">
        @if (ViewData["MensagemSucesso"] != null)
            {
            <div class="alert alert-success">
                <p>@ViewData["MensagemSucesso"]</p>
            </div>
            }
    </div>
    <h2>Conferência de avarias</h2><br />
    <h4>Data da Inspeção @Model.InspAvaria_Conf.Data.Day/@Model.InspAvaria_Conf.Data.Month/@Model.InspAvaria_Conf.Data.Year | Local Inspecao: @Model.InspAvaria_Conf.LocalNome  | LocalCheckPoint:  @Model.InspAvaria_Conf.CheckPointNome</p></h4>
    
    <div class="row">
        <table class="table table-striped table-bordered table-hover">
            <tr class="danger">
                <th>Editar</th>
                <th>VIN</th>
                <th>Marca</th>
                <th>Modelo</th>
                <th>Area</th>
                <th>Condicao</th>
                <th>Dano</th>
                <th>Gravidade</th>
                <th>Quadrante</th>
                <th>Severidade</th>
                <th>FabricaTransporte</th>
                <th>Fotos</th>
            </tr>

            @foreach (var item in Model.listaInspAvaria_Conf)
                {
                <tr>
                    <td><button type="button" value="@item.InspAvaria_ID" onclick="Btn_Click_EditarAvaria(this.value)">Editar</button></td>
                    <td>@item.VIN_6</td>
                    <td>@item.MarcaNome</td>
                    <td>@item.ModeloNome</td>
                    <td>@item.Area_Pt</td>
                    <td>@item.Condicao_Pt</td>
                    <td>@item.Dano_Pt</td>
                    <td>@item.Gravidade_Pt</td>
                    <td>@item.Quadrante_Pt</td>
                    <td>@item.Severidade_Pt</td>
                    <td>@item.FabricaTransporte</td>
                    <td><button type="button" id="btnEditarFotosID" value="@item.InspAvaria_ID" onclick='Btn_Click_VisualizarFotos(this.value)'>Fotos</button></td>
                </tr>   
                }

        </table>
        <form asp-controller="Conferencia" asp-action="EditarAvarias" method="post" id="editarAvariaForm">
            <div hidden>
                <input type="text" name="inspAvaria_ID" id="avariaIdFormSubmit" value="" />
            </div>
        </form>

        <form asp-controller="Conferencia" asp-action="VisualizarFotos" method="post" id="VisualizarFotosForm">
            <div hidden>
                <input type="text" name="inspAvaria_ID" id="inspAvaria_ID_FormVisualizarFotos_input" value="" />
            </div>
        </form>
    </div>
</div>