@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model VDT2.ViewModels.ListarConferenciaAvariaViewModel

@{
    Layout = "~/Views/Shared/_LayoutConferencia.cshtml";
}


<script src="~/js/Conferencia/ConferenciaAvarias.js" asp-append-version="true"></script>

<div class="hidden">
    @if (Model.Usuario != null)
    {
        <p>Altera Inifecao? </p><input type="text" id="hiddenAlteraInspecao" value="@Model.Usuario.AlteraInspecao " />
    }
</div>

<div class="container">
    <div class="container" id="EM_ERRO">
        @if (ViewData["MensagemErro"] != null)
            {
            <div class="alert alert-danger">
                <p>@ViewData["MensagemErro"]</p>
            </div>
        }
    </div>
    <div class="container" id="EM_SUCESSO">
        @if (ViewData["MensagemSucesso"] != null)
            {
            <div class="alert alert-success">
                <p>@ViewData["MensagemSucesso"]</p>
            </div>
        }
    </div>

    <h3><strong>Conferência de avarias</strong></h3><br />
    <h5><strong>Data da Inspeção: </strong> @Model.InspAvaria_Conf.Data.Day/@Model.InspAvaria_Conf.Data.Month/@Model.InspAvaria_Conf.Data.Year | <strong>Local Inspecao:</strong> @Model.InspAvaria_Conf.LocalNome  | <strong>Local CheckPoint:</strong>  @Model.InspAvaria_Conf.CheckPointNome</p></h5>
    <div class="container">
        <div class="row">
            <table class="table table-striped table-bordered table-hover">
                <thead class="thead">
                    <tr class="bg-info" id="tabConferenciaListaVeiculoHeader">
                        <th class="tabConferenciaListaVeiculoHeader">Editar</th>
                        <th class="tabConferenciaListaVeiculoHeader">VIN_6</th>
                        <th class="tabConferenciaListaVeiculoHeader">Marca</th>
                        <th class="tabConferenciaListaVeiculoHeader">Modelo</th>
                        <th class="tabConferenciaListaVeiculoHeader">Área</th>
                        <th class="tabConferenciaListaVeiculoHeader">Condição</th>
                        <th class="tabConferenciaListaVeiculoHeader">Dano</th>
                        <th class="tabConferenciaListaVeiculoHeader">Gravidade</th>
                        <th class="tabConferenciaListaVeiculoHeader">Quadrante</th>
                        <th class="tabConferenciaListaVeiculoHeader">Severidade</th>
                        <th class="tabConferenciaListaVeiculoHeader">Tipo</th>
                        <th class="tabConferenciaListaVeiculoHeader">Custo</th>
                        <th class="tabConferenciaListaVeiculoHeader">Fotos</th>
                    </tr>
                </thead>

                @if (Model.ListaInspAvaria_Conf != null)
            {
                    @foreach (var item in Model.ListaInspAvaria_Conf)
                {
                        <tr class="tabConferenciaListaVeiculo">
                            <td><button type="button" class="btnEditarEditarListarConferenciaAvarias btn btn-sm btn-default" value="@item.InspAvaria_ID" onclick="Btn_Click_EditarAvaria(this.value)">Editar</button></td>
                            <td>@item.VIN</td>
                            <td>@item.MarcaNome</td>
                            <td>@item.ModeloNome</td>
                            <td>@item.Area_Pt</td>
                            <td>@item.Condicao_Pt</td>
                            <td>@item.Dano_Pt</td>
                            <td>@item.Gravidade_Pt</td>
                            <td>@item.Quadrante_Pt</td>
                            <td>@item.Severidade_Pt</td>

                            @if (@item.FabricaTransporte == "F")
                            {
                                <td>Fábrica</td>}
                            else
                            {
                                <td>Transporte</td>}

                            @if (@item.Custo == null)
                            {
                                <td class="custoConferencia">0</td>}
                            else
                            {
                                <td class="custoConferencia">@item.Custo</td>
                            }
                            <td><button type="button" class="btn btn-sm btn-default" id="btnEditarFotosID" value="@item.InspAvaria_ID" onclick='Btn_Click_VisualizarFotos(this.value)'>Fotos</button></td>
                        </tr>
                    }
                }

            </table>
            <form asp-controller="Conferencia" asp-action="EditarAvarias" method="post" id="editarAvariaForm">
                <div hidden>
                    <input type="text" name="inspAvaria_ID" id="avariaIdFormSubmit" value="" />
                </div>
            </form>

            <form asp-controller="Conferencia" asp-action="VisualizarFotos" method="post" id="VisualizarFotosForm">
                <div hidden>
                    <input type="text" name="inspAvaria_ID" id="inspAvaria_ID_FormVisualizarFotos_input" value="" />
                </div>
            </form>

            <form asp-controller="Home" asp-action="Index" method="post" id="VisualizarFotosForm">
                <input type="submit" class="btnVoltarTelaConferenciaAvarais btn btn-sm btn-primary" value="Voltar" onClick=""><br /><br /><br />
                <input type="text" name="View" value="ListarConferenciaAvarias" hidden />
            </form>

        </div>
    </div>
</div>